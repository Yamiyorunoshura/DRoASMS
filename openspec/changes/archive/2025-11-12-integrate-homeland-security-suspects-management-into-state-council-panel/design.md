## Context
此變更涉及將嫌犯管理功能從斜線指令架構遷移到面板架構，需要橫跨多個服務模組和UI組件的重構。現有的 `/state_council suspects` 指令提供了完整的嫌犯管理功能，但與國土安全部面板規格定義的功能重複。

**Constraints:**
- 必須保持現有服務邏輯的完整性
- 不能破壞現有的數據模型和API
- 需要確保權限控制的一致性
- 自動釋放排程功能必須繼續正常運作

**Stakeholders:**
- 國土安全部使用者：需要嫌犯管理功能
- 系統管理員：需要統一的管理界面
- 開發團隊：需要清晰的代碼架構

## Goals / Non-Goals
- **Goals:**
  - 提供統一的嫌犯管理界面（面板）
  - 移除重複的斜線指令實現
  - 保持功能完整性和數據一致性
  - 改善使用者體驗

- **Non-Goals:**
  - 修改嫌犯管理的核心業務邏輯
  - 改變數據庫結構
  - 修改權限模型
  - 實現全新的功能

## Decisions

### Decision: 服務層重構而非複製
**What**: 將嫌犯管理核心邏輯從 `SuspectsManagementView` 和指令處理函數中提取到獨立的服務層方法。

**Why**:
- 避免代碼重複
- 確保業務邏輯一致性
- 便於測試和維護
- 支援未來多種UI實現

**Alternatives considered:**
- 複製邏輯到面板：會導致代碼重複和維護困難
- 保持現狀：會繼續有重複功能和混淆的使用者體驗

### Decision: 保留現有數據模型和API
**What**: 不修改任何數據庫結構、服務API或自動釋放排程邏輯。

**Why**:
- 降低變更風險
- 保持現有功能的穩定性
- 減少測試複雜度

### Decision: 分階段移除斜線指令
**What**: 先實現面板功能，確認無誤後再移除斜線指令。

**Why**:
- 降低功能中斷風險
- 提供平滑的遷移路徑
- 便於回滾和調試

## Risks / Trade-offs

### Risk: UI複雜性增加
**Description**: 面板實現可能比斜線指令更複雜，需要更多開發和測試工作。
**Mitigation**: 重用現有的服務邏輯，採用簡潔的UI設計，分階段實現。

### Risk: 使用者習慣改變
**Description**: 使用者需要學習新的操作方式。
**Mitigation**: 提供清晰的文檔和幫助信息，確保面板直觀易用。

### Trade-off: 開發時間 vs 功能統一性
**Description**: 實現面板需要額外開發時間，但能提供更好的使用者體驗。
**Decision**: 投資開發時間以獲得長期的功能統一性和維護性。

## Migration Plan

1. **階段1：服務層重構**
   - 提取嫌犯管理服務方法
   - 重構權限檢查邏輯
   - 測試服務層獨立性

2. **階段2：面板實現**
   - 實現面板UI組件
   - 整合服務層方法
   - 測試面板功能

3. **階段3：斜線指令移除**
   - 驗證面板功能完整性
   - 移除斜線指令註冊
   - 清理相關UI組件

4. **階段4：測試和部署**
   - 執行完整測試套件
   - 更新文檔
   - 部署和監控

**Rollback plan**: 如果面板實現出現問題，可以快速恢復斜線指令功能，因為核心服務邏輯保持不變。

## Open Questions

- 是否需要在面板中提供比斜線指令更豐富的功能？
- 如何處理大量嫌疑人時的UI顯示和性能問題？
- 是否需要為面板添加特定的權限控制？
