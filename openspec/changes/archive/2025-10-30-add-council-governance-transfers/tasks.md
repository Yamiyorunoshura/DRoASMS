# Tasks: Council Governance (Transfers MVP)

- [x] 初始化：新增 Council 功能骨架（指令、服務、資料模型占位符）
- [x] 設定指令：config 指令群（設定理事角色／Council 帳戶初始化）
- [x] 限制檢查：未設定完成時拒絕使用治理功能
- [x] 建案指令：建立「轉帳提案」並產生名冊快照與門檻 T
- [x] 快照保存：儲存提案建立當下之理事名單與 N、T、截止時間（+72h）
- [x] 併行上限：同 guild 進行中提案達 5 個時拒絕建案
- [x] DM 通知（建案）：向全體理事發送含互動按鈕之投票 Embed
- [x] 按鈕互動：同意／反對／棄權，支援改票（最後一次為準）
- [x] 匿名規則（進行中）：DM/Embed 僅顯示合計票數
- [x] 門檻判定：即時檢查是否達到 T → 標記「已通過」並嘗試執行
- [x] 提前否決：若剩餘票全同意也無法達標 → 立即「已否決」並通知
- [x] 逾時否決：截止時未達 T → 標記「已逾時」並通知
- [x] 撤案限制：無票前可撤；出現第一票後拒絕撤案
- [x] 執行轉帳：覆用既有 Transfer Service 與 DB 程序
- [x] 失敗處理：餘額不足或受款人無效 → 「執行失敗」並通知
- [x] 結果通知（DM）：向提案人與全體理事發送結果 Embed（揭露最終個別票）
- [x] 提醒（T-24h）：DM 未投者提醒一次
- [x] 稽核紀錄：完整紀錄提案、投票、狀態流轉、執行結果
- [x] 匯出指令：CSV/JSON 匯出指定期間資料
- [x] 權限檢查：僅理事可建案與投票
 - [x] 單元測試：門檻計算、快照不變、改票覆蓋、提前否決、逾時
 - [x] 整合測試：建案→投票→通過→執行；與失敗路徑
- [x] 日誌／事件：關鍵事件結構化日誌與遮罩
- [x] 文件：在 `README.md` 增補使用說明與限制（MVP 無公開頻道）
